<!doctype html>
<html>
  <head>
    <title>GitHub PR Search Redirect</title>
  </head>
  <body>
    <script>
      function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
      }
      const org = "spaceportxyz";
      const repo = getQueryParam("repo") || "monorepo"; // Function to get query parameters

      // Get repo from query parameter, default to 'monorepo' if not provided
      const oneWeekAgo = new Date(new Date().setDate(new Date().getDate() - 7)).toISOString().split("T")[0];
      const query = encodeURIComponent(`is:pr is:closed closed:>${oneWeekAgo} -label:dependencies sort:updated-desc `);
      const url = `https://github.com/${org}/${repo}/pulls?q=${query}`;
      window.location.href = url;
    </script>
  </body>
</html>
